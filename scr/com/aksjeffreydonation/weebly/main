package com.weebly.aksjeffreydonation;
 
/*Author: Bhavneet Pannu A.K.A AKS JEFFREY
 *Do Not COPY THIS PLUGIN AND MAKE IT YOUR OWN!
 */



import java.util.logging.Logger;

import org.bukkit.ChatColor;
import org.bukkit.Material;
import org.bukkit.entity.Player;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.block.Action;
import org.bukkit.event.player.PlayerInteractEvent;
import org.bukkit.event.player.PlayerJoinEvent;
import org.bukkit.inventory.PlayerInventory;
import org.bukkit.plugin.Plugin;
import org.bukkit.plugin.PluginDescriptionFile;
import org.bukkit.plugin.java.JavaPlugin;
import org.bukkit.potion.PotionEffectType;
 
public class Main extends JavaPlugin implements Listener {
      public final Logger logger = Logger.getLogger("minecraft");
      private static Plugin instance;
     
      public void onEnable() {
        PluginDescriptionFile pdffile = getDescription();
        this.logger.info(pdffile.getName() + "Version " + pdffile.getVersion() + " Has being enabled");
      }
 
      
      @EventHandler
      public void onPlayerJoin(PlayerJoinEvent e){
      Player player = e.getPlayer();
      player.sendMessage("This server is using the following plugin! Drink-O-Water");
      }
      
      
      @EventHandler
      public void PlayerInteract(PlayerInteractEvent event) {
        Player p = event.getPlayer();
        PlayerInventory inventory = p.getInventory();
          if ((p.getItemInHand().getType().equals(Material.MILK_BUCKET)) && (p.hasPermission("drink.milk")) &&
          (event.getAction().equals(Action.RIGHT_CLICK_AIR))) {
          inventory.getItemInHand().setType(Material.BUCKET);
          onMilDrank(event.getPlayer());
          event.setCancelled(true);
          return;
        }
		return;
      }
      @EventHandler
	private void onMilDrank(Player event) {
    	  Player p = event.getPlayer();
    	 p.addPotionEffect(PotionEffectType.HEAL.createEffect((int) 200L, 50));;
        p.sendMessage("You drank " + ChatColor.GRAY + "milk" + ChatColor.WHITE + ".");
		
      }
        
        public static Plugin getInstance() {
        	return instance;
      }
}
     
