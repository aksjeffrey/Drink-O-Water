/*author: Bhavneet Pannu
 * Do not copy all of the code!
 * Website: https://www.mediafire.com/folder/k5yb6746i9tdo/Plugins
 * or aksjeffreydonation.weebly.com
 */


package com.aksjeffreydonation.weebly;

import org.bukkit.Material;
import org.bukkit.entity.Player;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.player.PlayerItemConsumeEvent;
import org.bukkit.inventory.ItemStack;
import org.bukkit.plugin.java.JavaPlugin;
 
public class MainClass extends JavaPlugin implements Listener {
    @Override
    public void onEnable() {
        getServer().getPluginManager().registerEvents(this, this);
        super.onEnable();
    }
 
    @SuppressWarnings("deprecation")
    @EventHandler
    public void onDrink(PlayerItemConsumeEvent event) {
        final Player player = event.getPlayer();
        final ItemStack item = event.getItem();
        if (item.getType() != Material.POTION)
            return;
        if (item.getData().getData() != 0) //Maybe find another way of separating water bottles from potions?
            return;
        player.setFoodLevel(player.getFoodLevel() + 3 > 20 ? 20 : player.getFoodLevel() + 3);
    }
}
 
